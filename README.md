# Practice-WidgetKit for YOMANG [TEAM 0404]
  test2  
요망이 플젝을 위한 **두 유저 연결 - 두 유저간 이미지 데이터 공유 - 위젯 업데이트** 테스트 레포

### Flows
#### 파트너 연결
1. 최초 설치 후 앱을 열면 해당 기기(UUID)에 대한 익명 계정 자동 생성
```
UUID는 재설치시 변경됨
이를 방지하기 위해 발급되는 code를 keychain에 저장하는 등 과정은 구현 X
```
2. 내 코드를 카피해 파트너에게 전달, 파트너의 코드를 전달받아 붙여넣고 연결
```
연결 대기화면 따로 구현 X
먼저 코드를 입력한 유저는 재실행 필요
파트너가 본인의 코드를 입력하고 대기 중인 상태였던 유저는 코드 입력시 바로 사진 선택 화면으로 이동
```
3. 이미지 첨부
```
화면의 네모 박스를 누르면 이미지 첨부됨 crop mode 적용 X
이미지 첨부되면 DB에 업로드됨
```
4. 위젯
```
홈에 위젯 배치하기
기다리기...
매초 업데이트 + 10초 후 새 타임라인을 불러오게 해놨는데, 구조상 지연시간이 꽤 길기 때문에 이미지가 바뀌기를 기다립니다 ,,
여기 코드에서는 주기적으로 DB에서 이미지를 불러오는 것이 아니라,
앱을 한 번 구동해서 데이터를 불러온 후 (ContentView.swift의 onReceive) 그때 업데이트된 이미지가 불러와지게 됩니다
```
